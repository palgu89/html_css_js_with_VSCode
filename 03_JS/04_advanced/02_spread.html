<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>배열, 객체 spreading</title>
</head>
<body>
<h1>자바스크립트 spread</h1>
<ul>
    <li>ES6에서 배열만 spread가 가능했지만 ES2018부터는 객체도 가능</li>
    <li>배열과 객체의 데이터를 펼치는 기능을 통해 쉽게 선언 및 생성 가능</li>
    <li>... 이라는 rest 연산자를 사용하여 배열과 객체를 복사 할 수 있다</li>
    <li>디스트럭팅(destructing)은 비슷한 것처럼 보이지만 분해 후 선언 및 초기화라고 할 수 있음</li>
</ul>
<script>
    // destructing
    let arr_1 = ['k', 'b', 'l', 'u', 'j'];
    let [kim, bae, lim, un, jung] = arr_1;
    console.log(kim, bae, lim, un, jung);   // k, b, l, u, j
    
    let [kimi, baei, limi, uni, jungi, sun='s'] = arr_1;
    console.log(kim, bae, lim, un, jung, sun);  // k, b, l, u, j, s

    let [park, oh, ...other] = arr_1;
    console.log(park, oh, other)    // k, b, l, u, j

    // data value exchange (데이터 값 교환)
    let k5 = 'hyundae';
    let genesis = 'kia';

    [k5, genesis] = [genesis, k5];
    console.log(k5, genesis);   // kia, hyundae

    const laptop = {
        title: 'Apple Macbook Pro',
        price: 1790000,
        cpu: 'M1',
        ram: '8GB',
        ssd: '256GB',
        display: 'Retina True Tone',
        touchBar: true,
        qpu: '8core'
    };

    let {cpu, ram} = laptop;    // laptop의 key와 매치시켜 맞는 value를 건네 줌
    console.log(cpu, ram);  // M1, 8GB
    console.log(laptop.cpu, laptop.ram);    // M1, 8GB

    let {display, thunderbolt=2} = laptop;
    console.log(display, thunderbolt);

    let {touchBar, ...etc} = laptop;
    console.log(touchBar, etc);

    let m1 = {
        model: 'Apple Macbook Air',
        won: 1400000,
        processor: 'i5',
        memory: '8GB',
        stroage: '128GB',
        pixel: 'RETINA',
        bandarea: false,
        core: '4core',
        'serial-number': 'sefungg2564'
    };
    let {model: gen, 'serial-number': serialNumber} = m1;   // 왼쪽 key의 value 들을 오른쪽에 넣음
    console.log(gen, serialNumber); // Apple Macbook Air, sefungg2564

    let propName = 'won';
    let {[propName]: kw} = m1;  // [propName] = 'won' -> {[propName]: kw} = {won: kw}
    console.log(kw);    // won의 value = 1400000 -> propName -> kw

    let old_arr = ['kim', 'lee', 'park'];
    let new_obj = {...old_arr};
    console.log(new_obj);
    // -> 원래는 이렇게 했어야 함
    let new_obj2 = {};
    for (let i = 0; i < old_arr.length; i++) {
        new_obj2[i.toString()] = old_arr[i];
    }
    console.log(new_obj2);
</script>
</body>
</html>